# Dise√±o de Alto Nivel ‚Äì Backend para RandomCameraReviews

## üîç Definiciones y Acr√≥nimos

- **API**: Interfaz de Programaci√≥n de Aplicaciones.
- **TDD**: Desarrollo Guiado por Pruebas (*Test Driven Development*).
- **HTTP**: Protocolo de Transferencia de Hipertexto.
- **CRUD**: Crear (*M√©todo HTTP POST*), Leer (*M√©todo HTTP GET*), Actualizar (*M√©todo HTTP PUT o PATCH*), Eliminar (*M√©todo HTTP DELETE*).
    - **POST**: M√©todo HTTP para enviar datos al servidor.
    - **GET**: M√©todo HTTP para obtener datos del servidor.
- **Editor (Ed)**: Usuario autorizado que redacta y sube rese√±as.
- **Usuario (Lector)**: Visitante que accede a las rese√±as, sin autenticaci√≥n.
- **Review (Rese√±a)**: Contenido editorial escrito por fot√≥grafos sobre c√°maras espec√≠ficas.

---

## Problema a Resolver (Abstract/Overview)

La meta es construir y desarrollar la arquitectura de un sistema backend desde cero hasta la implementaci√≥n (deploy) del mismo, deber√° realizarse tomando en cuenta la planificaci√≥n de la arquitectura que se detalle en alto nivel. Para ello, los requerimientos que nos ha dado un cliente ficticio son los siguientes:
- La empresa ‚ÄúRandomCameraReviews‚Äù necesita un sistema que permita que fot√≥grafos profesionales suban ‚Äúreviews‚Äù de c√°maras fotogr√°ficas, para que cualquier persona en todo el mundo pueda buscar los reviews y compararlas a trav√©s de su portal. La empresa cuenta con un equipo de developers especializado en frontend que realizar√° una interfaz de usuario para que los editores suban sus ‚Äúreviews‚Äù y los usuarios puedan verlas, y han solicitado que creemos un sistema backend, incluyendo su API, que permita realizar lo siguiente:
    - Subir reviews de c√°maras fotogr√°ficas.
    - Obtener el contenido de los reviews para mostrarlo en vistas del portal en sus versiones web y mobile.
    - Manejo de usuarios para editores (no incluye visitantes que leen los reviews).

Tambi√©n se menciona que la empresa ‚ÄúRandomCameraReviews‚Äù planea distribuir mayormente en America del Sur, donde est√° su mercado m√°s grande, pero tambi√©n tienen ventas en Norte Am√©rica, Europa y muy pocas en Asia. De igual forma, los editores se encuentran mayormente en Am√©rica del Sur.

---

## üéØ Objetivos

- Permitir a los editores subir rese√±as a trav√©s de una API autenticada.
- Proporcionar una API p√∫blica para que los usuarios puedan consultar rese√±as.
- Construir el sistema backend con enfoque TDD para garantizar confiabilidad.
- Facilitar el despliegue y escalabilidad geogr√°fica para operaciones de lectura.

### Stakeholders

- Equipo de Producto (define requerimientos del negocio).
- Equipo de Ingenier√≠a Backend (desarrolla y mantiene la API).
- Desarrolladores Frontend (consumen la API).
- Editores (suben contenido al sistema).
- Usuarios Finales / Lectores (consumen contenido).

---

## üí≠ Suposiciones

- Solo los editores requieren autenticaci√≥n y acceso de escritura.
- Los usuarios no necesitan registrarse para consultar las rese√±as.
- Los editores est√°n ubicados principalmente en Sudam√©rica.
- La mayor√≠a de los usuarios est√°n en Sudam√©rica, Norteam√©rica y Europa, con menor presencia en Asia.

---

## üöß Limitaciones y Desconocimientos

En esta secci√≥n se describe un listado de limitaciones conocidas, ya sea de recursos o conocimientos, y se deben presentar de forma cuantificable.
- Las estimaciones de tr√°fico se basan en los mercados conocidos actualmente; un crecimiento r√°pido puede requerir un balanceo de carga o escalado vertical/horizontal.
- No se contempla la subida de archivos multimedia por el momento.
- No se incluye soporte multilenguaje.
- Las llamadas de la API que permite subir reviews (POST), no excede los l√≠mites de latencia de 500ms.
- Las llamadas a la API que permitan leer reviews (GET), deben de tener una latencia menor a 100ms.

---

## ‚úÖ Alcance Incluido del Proyecto (Scope)

- API REST con endpoints para la creaci√≥n de rese√±as (`POST /reviews`) y lectura de contenido (`GET /content`).
- Autenticaci√≥n y control de acceso para editores.
- Almacenamiento y recuperaci√≥n de datos de rese√±as.
- Preparaci√≥n para distribuci√≥n geogr√°fica en operaciones de lectura.
- Backend listo para desplegar.

### ‚ùå Fuera de Alcance (Out of Scope)

- Autenticaci√≥n para los lectores.
- Implementaci√≥n del frontend.
- Subida de im√°genes o contenido multimedia.
- Sistema de puntuaci√≥n o comentarios en las rese√±as.

## üß† Propuesta

### üèóÔ∏è Arquitectura General

- **Frontend**: Desarrollado por otro equipo, consumir√° nuestra API REST.
- **Backend**: API REST desarrollada con Python (FastAPI, Django o Node.js).
- **Base de Datos**: PostgreSQL para almacenamiento estructurado.
- **Autenticaci√≥n**: Bearer tokens para validar (autenticar) editores.
- **Despliegue**: Aplicaci√≥n dockerizada, compatible con cualquier proveedor cloud.
- **Distribuci√≥n Global**: Uso de CDN o r√©plicas de solo lectura para escalar el endpoint `/content`.

---

### Endpoints de la API

| M√©todo | Endpoint     | Descripci√≥n                                 | Requiere Autenticaci√≥n |
|--------|--------------|---------------------------------------------|-------------------------|
| POST   | /reviews     | Subir una nueva rese√±a                      | ‚úÖ S√≠                   |
| GET    | /content     | Obtener todas las rese√±as disponibles       | ‚ùå No                   |

---

### Componentes del Sistema

- **S1: Servicio de Rese√±as**: Maneja la creaci√≥n y validaci√≥n de rese√±as.
- **S2: Servicio de Contenido**: Optimizado para lectura r√°pida de rese√±as.
- **S3: Servicio de Autenticaci√≥n**: Emite y valida tokens JWT.
- **Capa de Base de Datos**: Almacena rese√±as y credenciales de editores.

---


### üí∏ Consideraciones de Costo
Contemplando 100,000 usuarios diarios, que visiten recurrentemente cada hora el sitio, se tienen los siguientes costos:
- **Hosting del Backend:** ~$30‚Äì50 USD/mes (ej. AWS EC2, DigitalOcean).
- **Base de Datos Administrada:** ~$15‚Äì25 USD/mes (ej. AWS RDS, Supabase).
- **CDN o Cach√© (para /content):** ~$10‚Äì20 USD/mes.
- **Monitoreo y Logs (opcional):** ~$10‚Äì15 USD/mes adicionales.